{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, useReducer } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport BottomSheet from \"react-native-bottomsheet\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { Ionicons, FontAwesome, Octicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case \"text\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        text: action.text\n      });\n\n    case \"todo\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        todos: [].concat(_toConsumableArray(state.todos), [{\n          id: action.id,\n          text: action.text,\n          completed: false,\n          createDate: new Date().toDateString(),\n          completedDate: null,\n          updateDate: null\n        }])\n      });\n\n    case \"current_todo_edit\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        currentTodoEdit: action.todo\n      });\n\n    case \"todo_update\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        todos: action._todos\n      });\n\n    case \"toggle_modal\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        newTodoModalOpen: action.isOpen\n      });\n\n    case \"toggle_edit\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        editMode: action.isEnabled\n      });\n\n    case \"loading\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isLoading: action.isLoading\n      });\n\n    default:\n      break;\n  }\n\n  return state;\n};\n\nvar initialState = {\n  text: \"\",\n  todos: [],\n  newTodoModalOpen: false,\n  editMode: false,\n  isLoading: false\n};\nexport default function TodoList(props) {\n  var _useReducer = useReducer(reducer, _objectSpread(_objectSpread({}, initialState), {}, {\n    user: props.navigation.getParam(\"user\", null)\n  })),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var loadTodos = function _callee() {\n    var allTodos;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"allTodos\"));\n\n          case 3:\n            allTodos = _context.sent;\n            dispatch({\n              type: \"loading\",\n              isLoading: true\n            });\n\n            if (allTodos) {\n              dispatch({\n                type: \"loading\",\n                isLoading: false\n              });\n              dispatch({\n                type: \"todo_update\",\n                _todos: JSON.parse(allTodos)\n              });\n            } else dispatch({\n              type: \"loading\",\n              isLoading: false\n            });\n\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"There was an error loading todos: \" + _context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var saveTodos = function _callee2() {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"allTodos\", JSON.stringify(state.todos)));\n\n          case 3:\n            _context2.next = 8;\n            break;\n\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"There was an error saving todos: \" + _context2.t0);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  useEffect(function () {\n    loadTodos();\n    return function () {\n      loadTodos();\n    };\n  }, []);\n\n  var textInputHandler = function textInputHandler(text) {\n    dispatch({\n      type: \"text\",\n      text: text\n    });\n  };\n\n  function addOrEditTodo() {\n    if (/^\\S/i.test(state.text)) {\n      if (state.editMode) {\n        state.currentTodoEdit.text = state.text;\n        updateTodo(state.currentTodoEdit.id, \"n\", state.text);\n      } else {\n        var idArr = state.todos.length > 0 ? state.todos.map(function (i) {\n          return parseInt(i.id);\n        }) : [-1];\n        dispatch({\n          type: \"todo\",\n          text: state.text,\n          id: (Math.max.apply(Math, _toConsumableArray(idArr)) + 1).toString()\n        });\n      }\n\n      setTimeout(function () {\n        dispatch({\n          type: \"text\",\n          text: \"\"\n        });\n        dispatch({\n          type: \"toggle_modal\",\n          isOpen: false\n        });\n      }, 100);\n    }\n\n    setTimeout(function () {\n      saveTodos();\n    }, 800);\n  }\n\n  function completedPrompt(id) {\n    Alert.alert(\"Todo Completed?\", \"\", [{\n      text: \"No\",\n      onPress: function onPress() {\n        return updateTodo(id);\n      }\n    }, {\n      text: \"Yes\",\n      onPress: function onPress() {\n        return updateTodo(id, \"y\");\n      }\n    }], {\n      cancelable: false\n    });\n  }\n\n  function removeItemPrompt(id) {\n    Alert.alert(\"Remove Todo\", \"Are you sure you want to remove this todo?\", [{\n      text: \"Cancel\",\n      style: \"cancel\"\n    }, {\n      text: \"Remove\",\n      onPress: function onPress() {\n        return removeItem(id);\n      }\n    }], {\n      cancelable: false\n    });\n  }\n\n  function updateTodo(id, s, textArg) {\n    var status = s === \"y\" ? true : false;\n    var text = textArg ? textArg : null;\n    var _todos = state.todos;\n\n    _todos.filter(function (i) {\n      if (i.id === id && !text) {\n        _todos[_todos.indexOf(i)].completed = status;\n        _todos[_todos.indexOf(i)].completedDate = status ? new Date().toDateString() : null;\n        dispatch({\n          type: \"todo_update\",\n          _todos: _todos\n        });\n      } else if (i.id === id && text) {\n        _todos[_todos.indexOf(i)].text = text;\n        _todos[_todos.indexOf(i)].updateDate = new Date().toDateString();\n        dispatch({\n          type: \"todo_update\",\n          _todos: _todos\n        });\n      }\n    });\n\n    saveTodos();\n  }\n\n  function removeItem(id) {\n    var _todos = state.todos;\n\n    _todos.filter(function (i) {\n      if (i.id === id) {\n        _todos.splice(_todos.indexOf(i), 1);\n\n        dispatch({\n          type: \"todo_update\",\n          _todos: _todos\n        });\n      }\n    });\n  }\n\n  function updateTodoText(id) {\n    var _todos = state.todos;\n\n    _todos.filter(function (i) {\n      if (i.id === id) {\n        dispatch({\n          type: \"text\",\n          text: state.todos[_todos.indexOf(i)].text\n        });\n        dispatch({\n          type: \"current_todo_edit\",\n          todo: state.todos[_todos.indexOf(i)]\n        });\n      }\n    });\n\n    toggleNewTodoModal();\n  }\n\n  function toggleNewTodoModal() {\n    var isOpen = state.newTodoModalOpen ? false : true;\n    dispatch({\n      type: \"toggle_modal\",\n      isOpen: isOpen\n    });\n  }\n\n  function toggleEditMode() {\n    var isEnabled = state.editMode ? false : true;\n    dispatch({\n      type: \"toggle_edit\",\n      isEnabled: isEnabled\n    });\n  }\n\n  function actionsheet() {\n    saveTodos();\n    BottomSheet.showActionwithSheetOptions({\n      options: [\"Cancel\", \"Toggle Edit Mode\", props.navigation.getParam(\"user\") ? \"Sign Out\" : \"Sign In\"],\n      cancelButtonIndex: 0\n    }, function (buttonIndex) {\n      if (buttonIndex === 1) {\n        toggleEditMode();\n      }\n\n      if (buttonIndex === 2) {\n        props.navigation.navigate(\"LoginScreen\");\n      }\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: [styles.headerContainer, styles.shadow],\n      children: _jsxs(LinearGradient, {\n        colors: [\"rgb(89, 74, 225)\", \"rgb(131, 52, 210)\"],\n        start: [0.6, 0],\n        style: {\n          height: \"100%\",\n          paddingTop: 30\n        },\n        children: [_jsx(StatusBar, {\n          translucent: true,\n          barStyle: \"light-content\"\n        }), _jsxs(Text, {\n          accessibilityRole: \"header\",\n          style: styles.header,\n          children: [_jsx(Ionicons, {\n            name: \"ios-checkmark-circle\",\n            size: 36,\n            color: \"#fff\"\n          }), \" Todo List\"]\n        }), _jsx(TouchableOpacity, {\n          style: styles.menuButton,\n          onPress: actionsheet,\n          children: _jsx(MaterialCommunityIcons, {\n            name: \"dots-horizontal\",\n            size: 27,\n            color: \"rgba(255, 255, 255, 1)\",\n            style: {\n              top: 1\n            }\n          })\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.listContainer,\n      children: [state.todos.length < 1 && _jsx(Text, {\n        style: styles.noTodos,\n        children: \"No Todos\"\n      }), _jsx(FlatList, {\n        data: state.todos,\n        renderItem: function renderItem(itemData) {\n          return _jsxs(View, {\n            style: [styles.listItemContainer, styles.shadow, itemData.item === state.todos[state.todos.length - 1] && {\n              marginBottom: 50\n            }, itemData.item === state.todos[0] && {\n              marginTop: 35\n            }, state.editMode && styles.editModeActive && {\n              width: \"75%\",\n              left: -60\n            }],\n            children: [_jsx(Text, {\n              style: [{\n                left: 20,\n                top: \"45%\",\n                zIndex: 100,\n                position: \"absolute\"\n              }, state.editMode && {\n                display: \"none\"\n              }],\n              onPress: function onPress() {\n                return completedPrompt(itemData.item.id);\n              },\n              children: itemData.item.completed ? _jsx(Ionicons, {\n                name: \"ios-checkmark-circle\",\n                size: 34,\n                color: \"#53d769\"\n              }) : _jsx(FontAwesome, {\n                name: \"circle-thin\",\n                size: 32,\n                color: \"rgba(0, 0, 0, 0.7)\"\n              })\n            }), _jsx(Text, {\n              style: [styles.listItem, itemData.item.completed && {\n                opacity: 0.25\n              }, state.editMode && styles.editModeActive],\n              children: itemData.item.text\n            }), _jsxs(Text, {\n              style: [{\n                color: \"rgba(0, 0, 0, 0.4)\",\n                fontSize: 10,\n                fontWeight: \"600\",\n                textAlign: \"right\"\n              }, state.editMode && styles.editModeActive],\n              children: [itemData.item.completedDate && \"Completed on \" + itemData.item.completedDate, !itemData.item.completedDate && itemData.item.updateDate && \"Edited on \" + itemData.item.updateDate, !itemData.item.completedDate && !itemData.item.updateDate && \"Created on \" + itemData.item.createDate]\n            }), state.editMode && _jsxs(View, {\n              style: {\n                position: \"absolute\",\n                top: 60,\n                right: 155\n              },\n              children: [!itemData.item.completed && _jsx(Text, {\n                style: [styles.updateButton, styles.updateRemoveButton],\n                onPress: function onPress() {\n                  return updateTodoText(itemData.item.id);\n                },\n                children: \"UPDATE\"\n              }), _jsx(Text, {\n                style: [styles.removeButton, styles.updateRemoveButton],\n                onPress: function onPress() {\n                  return removeItemPrompt(itemData.item.id);\n                },\n                children: \"REMOVE\"\n              })]\n            })]\n          }, itemData.item.id);\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })]\n    }), state.newTodoModalOpen && _jsxs(View, {\n      style: [styles.inputContainer],\n      children: [_jsx(TouchableOpacity, {\n        style: styles.shadow,\n        onPress: toggleNewTodoModal,\n        children: _jsx(Text, {\n          style: styles.closeButton,\n          children: \"\\xD7\"\n        })\n      }), _jsx(TextInput, {\n        placeholder: \"New Todo\",\n        style: styles.input,\n        onChangeText: textInputHandler,\n        value: state.text,\n        multiline: true,\n        autoFocus: true\n      }), _jsx(TouchableOpacity, {\n        onPress: addOrEditTodo,\n        children: _jsxs(Text, {\n          style: styles.submitButton,\n          children: [\" \", state.editMode ? \"Update\" : \"Add\", \" \"]\n        })\n      })]\n    }), state.editMode || !state.newTodoModalOpen && _jsx(TouchableOpacity, {\n      style: [styles.shadow, styles.newTodoButton],\n      onPress: toggleNewTodoModal,\n      children: _jsx(LinearGradient, {\n        colors: [\"rgb(89, 74, 225)\", \"rgb(131, 52, 210)\"],\n        start: [0.6, 0],\n        style: {\n          height: \"100%\",\n          borderRadius: 28,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: _jsx(Octicons, {\n          name: \"plus\",\n          size: 30,\n          style: {\n            top: 1\n          },\n          color: \"#fff\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    height: \"100%\",\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n    padding: 30\n  },\n  headerContainer: {\n    width: \"120%\",\n    position: \"absolute\",\n    paddingLeft: 0,\n    paddingRight: 0,\n    alignSelf: \"center\",\n    backgroundColor: \"transparent\",\n    zIndex: 100\n  },\n  header: {\n    color: \"#fff\",\n    textAlign: \"left\",\n    fontSize: 35,\n    marginTop: 40,\n    marginLeft: 20,\n    fontWeight: \"600\",\n    textShadowColor: \"rgba(0, 0, 0, 0.5)\",\n    textShadowOffset: {\n      width: 0,\n      height: 1\n    },\n    textShadowRadius: 5\n  },\n  menuButton: {\n    width: 30,\n    position: \"relative\",\n    backgroundColor: \"rgba(255, 255, 255, 0.3)\",\n    alignItems: \"center\",\n    borderRadius: 30,\n    overflow: \"hidden\",\n    top: -7,\n    right: \"-88%\"\n  },\n  updateRemoveButton: {\n    textAlign: \"center\",\n    position: \"relative\",\n    right: -230,\n    width: 80,\n    fontSize: 12,\n    fontWeight: \"700\"\n  },\n  updateButton: {\n    backgroundColor: \"rgb(89, 74, 225)\",\n    borderRadius: 14,\n    overflow: \"hidden\",\n    color: \"#fff\",\n    padding: 7,\n    marginTop: -25.5,\n    transform: [{\n      translateX: 18\n    }, {\n      translateY: -16\n    }]\n  },\n  removeButton: {\n    textAlign: \"center\",\n    position: \"relative\",\n    right: -230,\n    color: \"red\",\n    width: 80,\n    padding: 10,\n    marginTop: -25.5,\n    transform: [{\n      translateX: 18\n    }, {\n      translateY: 10\n    }]\n  },\n  newTodoButton: {\n    position: \"absolute\",\n    bottom: 40,\n    right: 25,\n    width: 55,\n    height: 55,\n    borderRadius: 28\n  },\n  inputContainer: {\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    alignSelf: \"center\",\n    top: 130,\n    zIndex: 1000,\n    height: \"40%\",\n    backgroundColor: \"#fff\",\n    borderRadius: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -2\n    },\n    shadowOpacity: 0.7,\n    shadowRadius: 60\n  },\n  closeButton: {\n    position: \"absolute\",\n    fontSize: 22,\n    fontWeight: \"600\",\n    color: \"rgb(89, 74, 225)\",\n    backgroundColor: \"#fff\",\n    borderRadius: 15,\n    textAlign: \"center\",\n    right: -165,\n    top: -14,\n    height: 30,\n    width: 30,\n    padding: 1,\n    overflow: \"hidden\",\n    lineHeight: 25.5,\n    letterSpacing: -1,\n    zIndex: 500\n  },\n  input: {\n    width: \"80%\",\n    padding: 2,\n    paddingTop: 15,\n    fontSize: 18,\n    height: \"77%\",\n    marginTop: 20\n  },\n  submitButton: {\n    color: \"rgb(89, 74, 225)\",\n    position: \"relative\",\n    color: \"#fff\",\n    fontSize: 17,\n    fontWeight: \"600\",\n    padding: 5,\n    paddingLeft: 12,\n    paddingRight: 12,\n    overflow: \"hidden\",\n    borderRadius: 15,\n    bottom: 0,\n    backgroundColor: \"rgb(89, 74, 225)\"\n  },\n  shadow: {\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.17,\n    shadowRadius: 3,\n    backgroundColor: \"white\"\n  },\n  listContainer: {\n    backgroundColor: \"rgb(249, 249, 249)\",\n    width: \"120%\",\n    alignSelf: \"center\",\n    paddingBottom: 200,\n    marginTop: 100,\n    minHeight: \"110%\"\n  },\n  noTodos: {\n    marginTop: \"60%\",\n    color: \"rgba(0, 0, 0, 0.4)\",\n    fontSize: 26,\n    textAlign: \"center\"\n  },\n  listItem: {\n    fontSize: 18,\n    textAlign: \"left\",\n    padding: 15,\n    marginLeft: 20,\n    fontWeight: \"500\"\n  },\n  listItemContainer: {\n    width: \"90%\",\n    paddingLeft: 30,\n    padding: 10,\n    paddingRight: 30,\n    margin: 10,\n    borderRadius: 10,\n    alignSelf: \"center\"\n  },\n  editModeActive: {\n    transform: [{\n      translateX: -40\n    }]\n  }\n});","map":{"version":3,"names":["React","useEffect","useReducer","AsyncStorage","BottomSheet","LinearGradient","Ionicons","FontAwesome","Octicons","MaterialCommunityIcons","reducer","state","action","type","text","todos","id","completed","createDate","Date","toDateString","completedDate","updateDate","currentTodoEdit","todo","_todos","newTodoModalOpen","isOpen","editMode","isEnabled","isLoading","initialState","TodoList","props","user","navigation","getParam","dispatch","loadTodos","getItem","allTodos","JSON","parse","console","log","saveTodos","setItem","stringify","textInputHandler","addOrEditTodo","test","updateTodo","idArr","length","map","i","parseInt","Math","max","toString","setTimeout","completedPrompt","Alert","alert","onPress","cancelable","removeItemPrompt","style","removeItem","s","textArg","status","filter","indexOf","splice","updateTodoText","toggleNewTodoModal","toggleEditMode","actionsheet","showActionwithSheetOptions","options","cancelButtonIndex","buttonIndex","navigate","styles","container","headerContainer","shadow","height","paddingTop","header","menuButton","top","listContainer","noTodos","itemData","listItemContainer","item","marginBottom","marginTop","editModeActive","width","left","zIndex","position","display","listItem","opacity","color","fontSize","fontWeight","textAlign","right","updateButton","updateRemoveButton","removeButton","inputContainer","closeButton","input","submitButton","newTodoButton","borderRadius","justifyContent","alignItems","StyleSheet","create","backgroundColor","padding","paddingLeft","paddingRight","alignSelf","marginLeft","textShadowColor","textShadowOffset","textShadowRadius","overflow","transform","translateX","translateY","bottom","shadowColor","shadowOffset","shadowOpacity","shadowRadius","lineHeight","letterSpacing","paddingBottom","minHeight","margin"],"sources":["C:/Users/melon/todolist/Components/TodoList.js"],"sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport BottomSheet from \"react-native-bottomsheet\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  FlatList,\n  TextInput,\n  Alert,\n  StatusBar,\n  TouchableOpacity,\n} from \"react-native\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport {\n  Ionicons,\n  FontAwesome,\n  Octicons,\n  MaterialCommunityIcons,\n} from \"@expo/vector-icons\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"text\":\n      return {\n        ...state,\n        text: action.text,\n      };\n    case \"todo\":\n      return {\n        ...state,\n        todos: [\n          ...state.todos,\n          {\n            id: action.id,\n            text: action.text,\n            completed: false,\n            createDate: new Date().toDateString(),\n            completedDate: null,\n            updateDate: null,\n          },\n        ],\n      };\n    case \"current_todo_edit\":\n      return {\n        ...state,\n        currentTodoEdit: action.todo,\n      };\n    case \"todo_update\":\n      return {\n        ...state,\n        todos: action._todos,\n      };\n    case \"toggle_modal\":\n      return {\n        ...state,\n        newTodoModalOpen: action.isOpen,\n      };\n    case \"toggle_edit\":\n      return {\n        ...state,\n        editMode: action.isEnabled,\n      };\n    case \"loading\":\n      return {\n        ...state,\n        isLoading: action.isLoading,\n      };\n    default:\n      break;\n  }\n  return state;\n};\n\nconst initialState = {\n  text: \"\",\n  todos: [],\n  newTodoModalOpen: false,\n  editMode: false,\n  isLoading: false,\n};\n\nexport default function TodoList(props) {\n  const [state, dispatch] = useReducer(reducer, {\n    ...initialState,\n    user: props.navigation.getParam(\"user\", null),\n  });\n\n  const loadTodos = async () => {\n    try {\n      const allTodos = await AsyncStorage.getItem(\"allTodos\");\n      dispatch({ type: \"loading\", isLoading: true });\n      if (allTodos) {\n        dispatch({ type: \"loading\", isLoading: false });\n        dispatch({ type: \"todo_update\", _todos: JSON.parse(allTodos) });\n      } else dispatch({ type: \"loading\", isLoading: false });\n    } catch (error) {\n      console.log(\"There was an error loading todos: \" + error);\n    }\n  };\n\n  const saveTodos = async () => {\n    try {\n      await AsyncStorage.setItem(\"allTodos\", JSON.stringify(state.todos));\n    } catch (error) {\n      console.log(\"There was an error saving todos: \" + error);\n    }\n  };\n\n  useEffect(() => {\n    loadTodos();\n    return () => {\n      loadTodos();\n    };\n  }, []);\n\n  const textInputHandler = (text) => {\n    dispatch({ type: \"text\", text: text });\n  };\n\n  function addOrEditTodo() {\n    if (/^\\S/i.test(state.text)) {\n      if (state.editMode) {\n        state.currentTodoEdit.text = state.text;\n        updateTodo(state.currentTodoEdit.id, \"n\", state.text);\n      } else {\n        let idArr =\n          state.todos.length > 0\n            ? state.todos.map((i) => parseInt(i.id))\n            : [-1];\n\n        dispatch({\n          type: \"todo\",\n          text: state.text,\n          id: (Math.max(...idArr) + 1).toString(),\n        });\n      }\n      setTimeout(() => {\n        dispatch({ type: \"text\", text: \"\" });\n        dispatch({ type: \"toggle_modal\", isOpen: false });\n      }, 100);\n    }\n    setTimeout(() => {\n      saveTodos();\n    }, 800);\n  }\n  //lorsqu'on séléctionne une tache on a une question  selon laquelle une tache est effectué ou pas ?\n  function completedPrompt(id) {\n    Alert.alert(\n      \"Todo Completed?\",\n      \"\",\n      [\n        { text: \"No\", onPress: () => updateTodo(id) },\n        { text: \"Yes\", onPress: () => updateTodo(id, \"y\") },\n      ],\n      { cancelable: false }\n    );\n  }\n\n  function removeItemPrompt(id) {\n    Alert.alert(\n      \"Remove Todo\",\n      \"Are you sure you want to remove this todo?\",\n      [\n        { text: \"Cancel\", style: \"cancel\" },\n        { text: \"Remove\", onPress: () => removeItem(id) },\n      ],\n      { cancelable: false }\n    );\n  }\n\n  function updateTodo(id, s, textArg) {\n    let status = s === \"y\" ? true : false;\n    let text = textArg ? textArg : null;\n    let _todos = state.todos;\n    _todos.filter((i) => {\n      if (i.id === id && !text) {\n        _todos[_todos.indexOf(i)].completed = status;\n        _todos[_todos.indexOf(i)].completedDate = status\n          ? new Date().toDateString()\n          : null;\n        dispatch({ type: \"todo_update\", _todos: _todos });\n      } else if (i.id === id && text) {\n        _todos[_todos.indexOf(i)].text = text;\n        _todos[_todos.indexOf(i)].updateDate = new Date().toDateString();\n        dispatch({ type: \"todo_update\", _todos: _todos });\n      }\n    });\n    saveTodos();\n  }\n\n  function removeItem(id) {\n    let _todos = state.todos;\n    _todos.filter((i) => {\n      if (i.id === id) {\n        _todos.splice(_todos.indexOf(i), 1);\n        dispatch({ type: \"todo_update\", _todos: _todos });\n      }\n    });\n  }\n\n  function updateTodoText(id) {\n    let _todos = state.todos;\n    _todos.filter((i) => {\n      if (i.id === id) {\n        dispatch({ type: \"text\", text: state.todos[_todos.indexOf(i)].text });\n        dispatch({\n          type: \"current_todo_edit\",\n          todo: state.todos[_todos.indexOf(i)],\n        });\n      }\n    });\n    toggleNewTodoModal();\n  }\n\n  function toggleNewTodoModal() {\n    let isOpen = state.newTodoModalOpen ? false : true;\n    dispatch({ type: \"toggle_modal\", isOpen: isOpen });\n  }\n\n  function toggleEditMode() {\n    let isEnabled = state.editMode ? false : true;\n    dispatch({ type: \"toggle_edit\", isEnabled: isEnabled });\n  }\n\n  function actionsheet() {\n    saveTodos();\n    BottomSheet.showActionwithSheetOptions(\n      {\n        options: [\n          \"Cancel\",\n          \"Toggle Edit Mode\",\n          props.navigation.getParam(\"user\") ? \"Sign Out\" : \"Sign In\",\n        ],\n        cancelButtonIndex: 0,\n      },\n      (buttonIndex) => {\n        if (buttonIndex === 1) {\n          toggleEditMode();\n        }\n        if (buttonIndex === 2) {\n          props.navigation.navigate(\"LoginScreen\");\n        }\n      }\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <View style={[styles.headerContainer, styles.shadow]}>\n        <LinearGradient\n          colors={[\"rgb(89, 74, 225)\", \"rgb(131, 52, 210)\"]}\n          start={[0.6, 0]}\n          style={{ height: \"100%\", paddingTop: 30 }}\n        >\n          <StatusBar translucent barStyle=\"light-content\"></StatusBar>\n          <Text accessibilityRole=\"header\" style={styles.header}>\n            <Ionicons name=\"ios-checkmark-circle\" size={36} color=\"#fff\" /> Todo\n            List\n          </Text>\n          <TouchableOpacity style={styles.menuButton} onPress={actionsheet}>\n            <MaterialCommunityIcons\n              name=\"dots-horizontal\"\n              size={27}\n              color=\"rgba(255, 255, 255, 1)\"\n              style={{ top: 1 }}\n            />\n          </TouchableOpacity>\n        </LinearGradient>\n      </View>\n      <View style={styles.listContainer}>\n        {state.todos.length < 1 && <Text style={styles.noTodos}>No Todos</Text>}\n        <FlatList\n          data={state.todos}\n          renderItem={(itemData) => (\n            <View\n              key={itemData.item.id}\n              style={[\n                styles.listItemContainer,\n                styles.shadow,\n                itemData.item === state.todos[state.todos.length - 1] && {\n                  marginBottom: 50,\n                },\n                itemData.item === state.todos[0] && { marginTop: 35 },\n                state.editMode &&\n                  styles.editModeActive && { width: \"75%\", left: -60 },\n              ]}\n            >\n              <Text\n                style={[\n                  { left: 20, top: \"45%\", zIndex: 100, position: \"absolute\" },\n                  state.editMode && { display: \"none\" },\n                ]}\n                onPress={() => completedPrompt(itemData.item.id)}\n              >\n                {itemData.item.completed ? (\n                  <Ionicons\n                    name=\"ios-checkmark-circle\"\n                    size={34}\n                    color=\"#53d769\"\n                  />\n                ) : (\n                  <FontAwesome\n                    name=\"circle-thin\"\n                    size={32}\n                    color=\"rgba(0, 0, 0, 0.7)\"\n                  />\n                )}\n              </Text>\n              <Text\n                style={[\n                  styles.listItem,\n                  itemData.item.completed && { opacity: 0.25 },\n                  state.editMode && styles.editModeActive,\n                ]}\n              >\n                {itemData.item.text}\n              </Text>\n              <Text\n                style={[\n                  {\n                    color: \"rgba(0, 0, 0, 0.4)\",\n                    fontSize: 10,\n                    fontWeight: \"600\",\n                    textAlign: \"right\",\n                  },\n                  state.editMode && styles.editModeActive,\n                ]}\n              >\n                {itemData.item.completedDate &&\n                  `Completed on ${itemData.item.completedDate}`}\n                {!itemData.item.completedDate &&\n                  itemData.item.updateDate &&\n                  `Edited on ${itemData.item.updateDate}`}\n                {!itemData.item.completedDate &&\n                  !itemData.item.updateDate &&\n                  `Created on ${itemData.item.createDate}`}\n              </Text>\n              {state.editMode && (\n                <View style={{ position: \"absolute\", top: 60, right: 155 }}>\n                  {!itemData.item.completed && (\n                    <Text\n                      style={[styles.updateButton, styles.updateRemoveButton]}\n                      onPress={() => updateTodoText(itemData.item.id)}\n                    >\n                      UPDATE\n                    </Text>\n                  )}\n                  <Text\n                    style={[styles.removeButton, styles.updateRemoveButton]}\n                    onPress={() => removeItemPrompt(itemData.item.id)}\n                  >\n                    REMOVE\n                  </Text>\n                </View>\n              )}\n            </View>\n          )}\n          keyExtractor={(item) => item.id}\n        />\n      </View>\n\n      {state.newTodoModalOpen && (\n        <View style={[styles.inputContainer]}>\n          <TouchableOpacity style={styles.shadow} onPress={toggleNewTodoModal}>\n            <Text style={styles.closeButton}>×</Text>\n          </TouchableOpacity>\n          <TextInput\n            placeholder=\"New Todo\"\n            style={styles.input}\n            onChangeText={textInputHandler}\n            value={state.text}\n            multiline={true}\n            autoFocus={true}\n          />\n          <TouchableOpacity onPress={addOrEditTodo}>\n            <Text style={styles.submitButton}>\n              {\" \"}\n              {state.editMode ? \"Update\" : \"Add\"}{\" \"}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n      {state.editMode ||\n        (!state.newTodoModalOpen && (\n          <TouchableOpacity\n            style={[styles.shadow, styles.newTodoButton]}\n            onPress={toggleNewTodoModal}\n          >\n            <LinearGradient\n              colors={[\"rgb(89, 74, 225)\", \"rgb(131, 52, 210)\"]}\n              start={[0.6, 0]}\n              style={{\n                height: \"100%\",\n                borderRadius: 28,\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <Octicons name=\"plus\" size={30} style={{ top: 1 }} color=\"#fff\" />\n            </LinearGradient>\n          </TouchableOpacity>\n        ))}\n    </View>\n  );\n}\n\n// Styles\n\nconst styles = StyleSheet.create({\n  container: {\n    height: \"100%\",\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n    padding: 30,\n  },\n  headerContainer: {\n    width: \"120%\",\n    position: \"absolute\",\n    paddingLeft: 0,\n    paddingRight: 0,\n    alignSelf: \"center\",\n    backgroundColor: \"transparent\",\n    zIndex: 100,\n  },\n  header: {\n    color: \"#fff\",\n    textAlign: \"left\",\n    fontSize: 35,\n    marginTop: 40,\n    marginLeft: 20,\n    fontWeight: \"600\",\n    textShadowColor: \"rgba(0, 0, 0, 0.5)\",\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 5,\n  },\n  menuButton: {\n    width: 30,\n    position: \"relative\",\n    backgroundColor: \"rgba(255, 255, 255, 0.3)\",\n    alignItems: \"center\",\n    borderRadius: 30,\n    overflow: \"hidden\",\n    top: -7,\n    right: \"-88%\",\n  },\n  updateRemoveButton: {\n    textAlign: \"center\",\n    position: \"relative\",\n    right: -230,\n    width: 80,\n    fontSize: 12,\n    fontWeight: \"700\",\n  },\n  updateButton: {\n    backgroundColor: \"rgb(89, 74, 225)\",\n    borderRadius: 14,\n    overflow: \"hidden\",\n    color: \"#fff\",\n    padding: 7,\n    marginTop: -25.5,\n    transform: [{ translateX: 18 }, { translateY: -16 }],\n  },\n  removeButton: {\n    textAlign: \"center\",\n    position: \"relative\",\n    right: -230,\n    color: \"red\",\n    width: 80,\n    padding: 10,\n    marginTop: -25.5,\n    transform: [{ translateX: 18 }, { translateY: 10 }],\n  },\n  newTodoButton: {\n    position: \"absolute\",\n    bottom: 40,\n    right: 25,\n    width: 55,\n    height: 55,\n    borderRadius: 28,\n  },\n  inputContainer: {\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    alignSelf: \"center\",\n    top: 130,\n    zIndex: 1000,\n    height: \"40%\",\n    backgroundColor: \"#fff\",\n    borderRadius: 10,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: -2 },\n    shadowOpacity: 0.7,\n    shadowRadius: 60,\n  },\n  closeButton: {\n    position: \"absolute\",\n    fontSize: 22,\n    fontWeight: \"600\",\n    color: \"rgb(89, 74, 225)\",\n    backgroundColor: \"#fff\",\n    borderRadius: 15,\n    textAlign: \"center\",\n    right: -165,\n    top: -14,\n    height: 30,\n    width: 30,\n    padding: 1,\n    overflow: \"hidden\",\n    lineHeight: 25.5,\n    letterSpacing: -1,\n    zIndex: 500,\n  },\n  input: {\n    width: \"80%\",\n    padding: 2,\n    paddingTop: 15,\n    fontSize: 18,\n    height: \"77%\",\n    marginTop: 20,\n  },\n  submitButton: {\n    color: \"rgb(89, 74, 225)\",\n    position: \"relative\",\n    color: \"#fff\",\n    fontSize: 17,\n    fontWeight: \"600\",\n    padding: 5,\n    paddingLeft: 12,\n    paddingRight: 12,\n    overflow: \"hidden\",\n    borderRadius: 15,\n    bottom: 0,\n    backgroundColor: \"rgb(89, 74, 225)\",\n  },\n  shadow: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.17,\n    shadowRadius: 3,\n    backgroundColor: \"white\",\n  },\n  listContainer: {\n    backgroundColor: \"rgb(249, 249, 249)\",\n    width: \"120%\",\n    alignSelf: \"center\",\n    paddingBottom: 200,\n    marginTop: 100,\n    minHeight: \"110%\",\n  },\n  noTodos: {\n    marginTop: \"60%\",\n    color: \"rgba(0, 0, 0, 0.4)\",\n    fontSize: 26,\n    textAlign: \"center\",\n  },\n  listItem: {\n    fontSize: 18,\n    textAlign: \"left\",\n    padding: 15,\n    marginLeft: 20,\n    fontWeight: \"500\",\n  },\n  listItemContainer: {\n    width: \"90%\",\n    paddingLeft: 30,\n    padding: 10,\n    paddingRight: 30,\n    margin: 10,\n    borderRadius: 10,\n    alignSelf: \"center\",\n  },\n  editModeActive: {\n    transform: [{ translateX: -40 }],\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}